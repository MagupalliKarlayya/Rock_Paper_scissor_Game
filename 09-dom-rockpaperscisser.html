<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    body{
        background: rgb(25, 25, 25);
        color: white;
    }
        h1,.game_result{
            font-weight: bold;
            font-size: 50px;
        }
        #button1{
            border-radius: 100px;
            padding: 50px;
            margin: auto 5px;
            cursor: pointer;
            background: rgb(25, 25, 25);
            border: 3px solid white;
        }
        #button2{
        padding: 10px 25px;
        font-size: 20px;
        cursor: pointer;
        }
        img{
            width: 50px;
            height: 50px;
        }
        p{
            font-size: 25px;
        }
        .score{
            margin-top: 50px;
        }
        
    </style>
</head>
<body>
    <h1>
        Rock Paper Scissor
    </h1>
    <button onclick="
        displayresult('rock');
    " id="button1"class="imag1"><img src="https://supersimple.dev/projects/rock-paper-scissors/images/rock-emoji.png" alt="rock-emoji"></button>

    <button onclick="
       displayresult('Paper');
    "id="button1"class="imag2"><img src="https://supersimple.dev/projects/rock-paper-scissors/images/paper-emoji.png" alt="paper-emoji" ></button>

    <button onclick="
      displayresult('scissor');
    "id="button1"class="imag3"><img src="https://supersimple.dev/projects/rock-paper-scissors/images/scissors-emoji.png" alt="scissors-emoji" ></button>
    <p class="game_result"></p>
    <p class="computerpic"></p>
    <p class="score"></p>
    <button onclick="
    score.wincount=0,score.tiecount=0,score.loosecount=0;
    updateScoreElements();
    " id="button2">Reset Score</button>
    <button onclick="
   AutoPlay();
    " id="button2" class="autoplay">Auto Play</button>
    <script >
        const score = JSON.parse(localStorage.getItem('score'))
        updateScoreElements();
      
            function pickcomputermove(){
                        randonnum= Math.random();
                            computermove='';
                            if(randonnum>0 && randonnum<1/3){
                                computermove=document.querySelector('.imag1').innerHTML;
                                democomputer=computermove;
                                computermove='rock';
                            }else if(randonnum>1/3 && randonnum<2/3)
                            { 
                                computermove=document.querySelector('.imag2').innerHTML;
                                democomputer=computermove;
                                computermove='Paper';
                                
                            }else if(randonnum>2/3 && randonnum<1)
                            {
                                computermove=document.querySelector('.imag3').innerHTML;
                                democomputer=computermove;
                                computermove='scissor';
                            }
                            return computermove;
            }
            var stopinterval;
            function AutoPlay(){
               var autoplaytext= document.querySelector('.autoplay').innerHTML;
               if(autoplaytext === 'Auto Play'){
                         stopinterval= setInterval(function(){
                                var playerplay=pickcomputermove();
                                    displayresult(playerplay);
                                },1000)
               document.querySelector('.autoplay').innerHTML="STOP Play"            
               }else{
                 clearInterval(stopinterval);
                 document.querySelector('.autoplay').innerHTML="Auto Play"    
               }
                
  }
            function displayresult(playerplay)
            {
                    computermove=pickcomputermove();
                        let result='';
                        if(playerplay==='scissor' )
                        {
                            if(computermove === 'rock')
                            {
                                result='lose';
                            }else if(computermove === 'Paper'){
                                result='win';
                            }
                            else if(computermove === 'Scissor'){
                                result='tie';
                            }
                            playerplay=document.querySelector('.imag3').innerHTML;
                        }
                       else if(playerplay==='Paper' )
                        {
                            if(computermove === 'rock')
                            {
                                result='win';
                            }else if(computermove === 'Paper'){
                                result='tie';
                            }
                            else if(computermove === 'Scissor'){
                                result='loose';
                            }
                            playerplay=document.querySelector('.imag2').innerHTML;
                        }
                       else if(playerplay==='rock' )
                        {
                            if(computermove === 'rock')
                            {
                                result='tie';
                            }else if(computermove === 'Paper'){
                                result='loose';
                            }
                            else if(computermove === 'Scissor'){
                                result='win';
                            }
                            playerplay=document.querySelector('.imag1').innerHTML;
                        }
                        if(result === 'win')
                        {    
                            score.wincount += 1;
                        }else if(result === 'tie'){
                           score.tiecount += 1;
                        }else{
                           score.loosecount += 1;
                        }
                        localStorage.setItem('score',JSON.stringify(score));
                        updateScoreElements();
                        document.querySelector('.game_result').innerHTML=`You ${result}.`;
                        document.querySelector('.computerpic').innerHTML=`YOU PICKED:-  ${playerplay}    ${democomputer} -:COMPUTER PICKED`;
        }
            function updateScoreElements(){
            document.querySelector('.score').innerHTML=`WIN: ${score.wincount}, LOOSE: ${score.loosecount}, TIE: ${score.tiecount}`;
          }
    </script>
</body>
</html>